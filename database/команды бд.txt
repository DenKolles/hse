

CREATE TABLE companies(id SERIAL PRIMARY KEY, name CHARACTER VARYING(50) NOT NULL, legal_address CHARACTER VARYING(50), actual_address CHARACTER VARYING(50), email CHARACTER VARYING(30));

CREATE TABLE contractors(id SERIAL PRIMARY KEY,first_name CHARACTER VARYING(50) NOT NULL,last_name CHARACTER VARYING(50) NOT NULL,date_of_birth DATE,id_company integer references companies(id) on delete restrict, id_position integer references positions(id) on delete restrict,passport CHARACTER VARYING(15),phone_number CHARACTER VARYING(15));

CREATE TABLE positions(id SERIAL PRIMARY KEY,name CHARACTER VARYING(50) NOT NULL);


CREATE TABLE acts(id SERIAL PRIMARY KEY,number CHARACTER VARYING(15) NOT NULL,name CHARACTER VARYING(50) NOT NULL,registration_date DATE NOT NULL,end_date DATE,update_date DATE,id_contractor INTEGER REFERENCES contractors(id) ON DELETE RESTRICT NOT NULL,description TEXT);


CREATE TABLE assignments(id SERIAL PRIMARY KEY,number CHARACTER VARYING(15) NOT NULL,name CHARACTER VARYING(50) NOT NULL,registration_date DATE NOT NULL,end_date DATE,update_date DATE,id_contractor INTEGER REFERENCES contractors(id) ON DELETE RESTRICT NOT NULL,description TEXT);